# Lightning-Cart RS Environment Configuration
# Copy this to .env and fill in your values

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================
# Get these from https://dashboard.stripe.com/apikeys

# Secret key (NEVER expose this to frontend)
STRIPE_SECRET_KEY=sk_test_your_key_here

# Publishable key (safe for frontend)
STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here

# Webhook signing secret (from Stripe Dashboard → Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Host to bind to (0.0.0.0 for Docker, 127.0.0.1 for local dev)
HOST=127.0.0.1

# Port to listen on
PORT=8080

# Base URL for callbacks (fallback when site config not found)
# Local development:
BASE_URL=http://localhost:8080
# Production (Fly.io):
# BASE_URL=https://lightning-cart.fly.dev

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Logging level
RUST_LOG=info,pay_api=debug,pay_stripe=debug

# =============================================================================
# MULTI-TENANT CONFIGURATION
# =============================================================================
#
# Site configurations are loaded from config/sites.toml
# Each site has:
#   - id: unique identifier (used in API routes)
#   - name: display name
#   - domain: primary domain
#   - statement_descriptor_suffix: appears on bank statements (max ~10 chars)
#   - success_url: redirect after successful payment
#   - cancel_url: redirect if customer cancels
#
# API Routes:
#   Legacy (backwards compatible):
#     POST /api/v1/checkout → uses default site (chargegun)
#
#   Multi-tenant:
#     POST /api/v1/{site_id}/checkout → uses specified site
#     GET  /api/v1/{site_id}/products → products for site
#     GET  /api/v1/sites → list all sites
#
# Statement Descriptors:
#   Customer sees on bank statement:
#     chargegun   → CHARGEGUN
#     spokenhope  → CHARGEGUN* SPOKENHOPE
#     drongrid    → CHARGEGUN* DRONGRID
#     luckydrone  → CHARGEGUN* LUCKYDRONE

# =============================================================================
# FUTURE: ADDITIONAL PROVIDERS
# =============================================================================

# PayPal (not yet implemented)
# PAYPAL_CLIENT_ID=
# PAYPAL_CLIENT_SECRET=
# PAYPAL_WEBHOOK_ID=

# Square (not yet implemented)
# SQUARE_ACCESS_TOKEN=
# SQUARE_LOCATION_ID=
# SQUARE_WEBHOOK_SIGNATURE_KEY=

CHARGEGUN_WEBHOOK_URL=https://chargegun.io/api/consultation-webhook